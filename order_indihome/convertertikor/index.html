<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Konversi Tikor (koma→titik)</title>
  <link rel="shortcut icon" href="konverter.png" type="image/x-icon">
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 24px; background:#f7fafc; color:#111827; }
    .card { background: white; padding:16px; border-radius:10px; box-shadow: 0 6px 18px rgba(15,23,42,0.08); max-width:720px; margin:0 auto; }
    label { display:block; margin-bottom:8px; font-weight:600; }
    textarea { width:100%; min-height:64px; padding:10px; font-size:14px; border-radius:8px; border:1px solid #e5e7eb; }
    pre { background:#111827; color:#f8fafc; padding:12px; border-radius:8px; overflow-x:auto; }
    .row { display:flex; gap:8px; margin-top:12px; }
    button { padding:8px 12px; border:0; border-radius:8px; cursor:pointer; font-weight:600; }
    button.primary { background:#2563eb; color:white; }
    button.ghost { background:#f3f4f6; color:#111827; }
    .note { margin-top:12px; color:#374151; font-size:13px; }

    input[type="text"] { 
  width:93%; 
  padding:10px; 
  font-size:14px; 
  border-radius:8px; 
  border:1px solid #e5e7eb; 
}

  </style>
</head>
<body>
  <div class="card">
    <h2>Konversi Tikor (format koma desimal → titik)</h2>

    <label for="input"></label>
 <input type="text" id="input">


    <div class="row">
      <button id="convert" class="primary">Konversi</button>
      <button id="copy" class="ghost">Salin hasil</button>
      <button id="clear" class="ghost"  style="background-color: crimson; color:aliceblue">Hapus</button>
    </div>

    <label style="margin-top:12px;">Hasil:</label>
    <pre id="output">— tekan "Konversi"</pre>


    <!--      
    <div class="note">
      Mekanisme:
      <ol>
        <li>Mendeteksi pasangan angka desimal bertipe <code>\d+,\d+</code> (mis. <code>4,74858...</code>),</li>
        <li>mengganti koma desimal menjadi titik untuk tiap angka,</li>
        <li>menggabungkan dua koordinat menjadi format <code>lat,lon</code> tanpa spasi: <code>4.748580...,96.913507...</code>.</li>
      </ol>
    </div>

       --> 
  </div>

  <script>
    const inputEl = document.getElementById('input');
    const outEl = document.getElementById('output');
    const btnConvert = document.getElementById('convert');
    const btnCopy = document.getElementById('copy');
    const btnClear = document.getElementById('clear');

    function convertTikor(text) {
      const matches = text.match(/\d+,\d+/g);
      if (matches && matches.length >= 2) {
        const first = matches[0].replace(',', '.');
        const second = matches[1].replace(',', '.');
        return first + ',' + second;
      }

      const collapsed = text.replace(/\s*,\s*/g, ',');
      const parts = collapsed.split(',');
      if (parts.length === 2 && /^\d+,\d+/.test(text) === false) {
        const a = parts[0].replace(/,/g, '.');
        const b = parts[1].replace(/,/g, '.');
        return a + ',' + b;
      }

      return collapsed.replace(/,/g, '.');
    }

    btnConvert.addEventListener('click', () => {
      const txt = inputEl.value.trim();
      if (!txt) {
        outEl.textContent = 'Input kosong';
        return;
      }
      const result = convertTikor(txt);
      outEl.textContent = result;
    });

    btnCopy.addEventListener('click', async () => {
      const text = outEl.textContent;
      if (!text || text === '— tekan "Konversi"') return;
      try {
        await navigator.clipboard.writeText(text);
        btnCopy.textContent = 'Tersalin!';
        setTimeout(()=> btnCopy.textContent = 'Salin hasil', 1200);
      } catch (e) {
        alert('Gagal menyalin: ' + e);
      }
    });

    btnClear.addEventListener('click', () => {
      inputEl.value = '';
      outEl.textContent = 'Menghapus';
    });

    // Auto-convert on load for convenience
    window.addEventListener('load', () => {
      btnConvert.click();
    });
  </script>
</body>
</html>
